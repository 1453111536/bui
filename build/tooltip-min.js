/**
 * @fileOverview \u63d0\u793a\u7684\u5165\u53e3\u6587\u4ef6
 * @ignore
 */define("bui/tooltip",function(require){var e=require("bui/common"),t=e.namespace("Tooltip"),n=require("bui/tooltip/tip"),r=require("bui/tooltip/tips");return e.mix(t,{Tip:n,Tips:r}),t}),define("bui/tooltip/tip",function(require){function i(e,t){if(e==="left")return[-1*t,-4];if(e==="right")return[t,-4];if(e.indexOf("top"))return[0,t];if(e.indexOf("bottom"))return[0,-1*t]}var e=require("bui/common"),t=require("overlay"),n="x-align-",r={left:["cl","cr"],right:["cr","cl"],top:["tc","bc"],bottom:["bc","tc"],"top-left":["tl","bl"],"top-right":["tr","br"],"bottom-left":["bl","tl"],"bottom-right":["br","tr"]},s=t.OverlayView.extend({renderUI:function(){},_getTitleContainer:function(){return this.get("el")},_uiSetTitle:function(t){var n=this,r=n.get("titleTpl"),i=n._getTitleContainer(),s=n.get("titleEl"),o;s&&s.remove(),t=t||"",e.isString(t)&&(t={title:t}),o=e.substitute(r,t),s=$(o).appendTo(i),n.set("titleEl",s)},_uiSetAlignType:function(e,t){var r=this;t&&t.prevVal&&r.get("el").removeClass(n+t.prevVal),e&&r.get("el").addClass(n+e)}},{ATTRS:{title:{},titleEl:{},alignType:{}}},{xclass:"tooltip-view"}),o=t.Overlay.extend({_uiSetAlignType:function(e){var t=this,n=t.get("offset"),s=t.get("align")||{},o=r[e];o&&(s.points=o,n&&(s.offset=i(e,n)),t.set("align",s))}},{ATTRS:{delegateTigger:{value:!0},alignType:{view:!0},title:{view:!0},showArrow:{value:!0},arrowContainer:{view:!0},autoHide:{value:!0},autoHideType:{value:"leave"},offset:{value:0},triggerEvent:{value:"mouseover"},titleTpl:{view:!0,value:"<span>{title}</span>"},xview:{value:s}}},{xclass:"tooltip"});return o.View=s,o}),define("bui/tooltip/tips",function(require){function e(e){return/^{.*}$/.test(e)}var t=require("bui/common"),n=require("bui/tooltip/tip"),r=function(e){r.superclass.constructor.call(this,e)};return r.ATTRS={tip:{},defaultAlignType:{}},t.extend(r,t.Base),t.augment(r,{_init:function(){this._initDom(),this._initEvent()},_initDom:function(){var e=this,t=e.get("tip"),r;t&&!t.isController&&(r=t.alignType,t=new n(t),t.render(),e.set("tip",t),r&&e.set("defaultAlignType",r))},_initEvent:function(){var e=this,t=e.get("tip");t.on("triggerchange",function(n){var r=n.curTrigger;e._replaceTitle(r),e._setTitle(r,t)})},_replaceTitle:function(e){var t=e.attr("title");t&&(e.attr("data-title",t),e[0].removeAttribute("title"))},_setTitle:function(n,r){var i=this,s=n.attr("data-title"),o=n.attr("data-align")||i.get("defaultAlignType");e(s)&&(s=t.JSON.looseParse(s)),r.set("title",s),o&&r.set("alignType",o)},render:function(){return this._init(),this}}),r});
